# Flight dynamics and control of unpowered avian landings

This repository contains all the code needed to generate the results, figures, and document for this paper. All analysis, simulations, and figures are generated using the [Julia](https://julialang.org) programming language (version 1.12.4). The document is generated using [Typst](https://typst.app/home) (version 0.14.2).

## Repository structure

### [doc](doc)
Contains the Typst files required to generate the main document. To compile the main document:
```typst
    typst compile doc/main.typ --root .
```
which will generate the `doc/main.pdf` (requires all figures in main text and supplementary material to be available as pdfs).

### [figs](figs)
Output directory for all the figures generated.


### [UnpoweredLandingsPaper](UnpoweredLandingsPaper): 
Main source code for the analysis, simulation, and figures.

To reproduce the figures in the manuscript:

1. Instantiate julia project to download all external code dependencies and precompile the package, then import the package:
```julia
    import Pkg; Pkg.activate("UnpoweredLandingsPaper"); Pkg.instantiate()
    using UnpoweredLandingsPaper
```

2. Call the `create_figures` function to generate a specified figure. The variable `figs_dict` can be passed to generate all the figures in the main manuscript:
```julia
    create_figures(figs_dict; ft="pdf") # ft specifies the filetype (.pdf, .png, etc)
```

3. Figures for the supplementary material can be generated by activating the `scripts` sub-directory, including the relevant file and repeating the procedure in 2.
```julia
    import Pkg; Pkg.activate("UnpoweredLandingsPaper/scripts"); Pkg.instantiate()
    include("UnpoweredLandingsPaper/scripts/rigidbody.jl")
    include("UnpoweredLandingsPaper/scripts/optcontrol_comparison.jl")
    figs_dict_sm = Dict("rigidbody_comparison" => rb_comparison, "optcontrol_comparison" => optcontrol_comparison)
    create_figures(figs_dict_sm; ft="pdf")
```
